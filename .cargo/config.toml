# Cargo build configuration for GridTokenX Platform
# https://doc.rust-lang.org/cargo/reference/config.html

# =============================================================================
# Build Cache (sccache) - Uncomment after installing
# Install: brew install sccache (macOS) or cargo install sccache
# =============================================================================
# [build]
# rustc-wrapper = "/usr/local/bin/sccache"

# =============================================================================
# Faster Linker (mold) - Linux only, uncomment after installing
# Install: brew install mold (macOS uses default ld by default)
# =============================================================================
# [target.x86_64-unknown-linux-gnu]
# linker = "clang"
# rustflags = ["-C", "link-arg=-fuse-ld=mold"]

# [target.aarch64-unknown-linux-gnu]
# linker = "clang"
# rustflags = ["-C", "link-arg=-fuse-ld=mold"]

# =============================================================================
# macOS: Use LLD for faster linking (requires llvm: brew install llvm)
# Uncomment after installing LLVM
# =============================================================================
# [target.aarch64-apple-darwin]
# rustflags = ["-C", "link-arg=-fuse-ld=/opt/homebrew/opt/llvm/bin/ld64.lld"]

# [target.x86_64-apple-darwin]
# rustflags = ["-C", "link-arg=-fuse-ld=/usr/local/opt/llvm/bin/ld64.lld"]

# =============================================================================
# General Build Settings
# =============================================================================
[build]
# Incremental compilation for faster rebuilds in dev
incremental = true

# =============================================================================
# Environment Variables
# =============================================================================
[env]
# SQLx offline mode for CI builds (set to "true" in CI)
SQLX_OFFLINE = { value = "false", force = false }

# =============================================================================
# Network Settings
# =============================================================================
[net]
# Parallel git fetching for faster dependency downloads
git-fetch-with-cli = true
