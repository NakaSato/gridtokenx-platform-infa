@startuml
!include <C4/C4_Container>
!include <tupadr3/devicons/react>
!include <tupadr3/font-awesome-5/user>
!include <tupadr3/font-awesome-5/wallet>



title **Frontend Layer - Architecture & Protocols**

Person(user, "User / Prosumer", "Accesses the platform via web browser", $sprite="user")

System_Boundary(frontend_boundary, "Client Side (Next.js)") {
    Container(trading_app, "Trading Dashboard", "Next.js / React", "Core UI for energy trading, data visualization, and account management.", $sprite="react")
    Container(wallet_adapter, "Wallet Adapter", "Solana Library", "Interface for connecting to browser extensions like Phantom or Solflare.", $sprite="wallet")
}

System_Boundary(interfaces, "Service Interfaces") {
    Container(api_gateway, "API Gateway", "Rust / Axum", "Backend endpoint for all business logic and data aggregation.")
    Container(solana_rpc, "Solana Cluster", "L1 RPC Nodes", "Direct blockchain interaction for state queries and transaction submission.")
    System_Ext(pyth, "Pyth Network", "Oracle Price Feeds for real-time energy pricing.")
    System_Ext(mapbox, "Mapbox GL", "Geospatial service for grid topology visualization.")
}

' External Interactions
Rel(user, trading_app, "Interacts with", "HTTPS / UX")
Rel(trading_app, wallet_adapter, "Requests signatures", "Internal JS API")

' Network Protocols
Rel(trading_app, api_gateway, "Commands & Data", "HTTP 1.1/2, WebSocket")
Rel(trading_app, solana_rpc, "Read/Write State", "JSON RPC, WebSocket (WSS)")
Rel(trading_app, wallet_adapter, "Sign Transaction", "Wallet Standard (EIP-like)")
Rel(trading_app, pyth, "Price Streaming", "HTTP / WebSocket")
Rel(trading_app, mapbox, "GIS Tiles", "HTTPS (Vector Tiles)")

footer GridTokenX v2.0 | Frontend Architecture | 2026
@enduml
