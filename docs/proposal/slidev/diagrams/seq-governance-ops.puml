@startuml
!include <C4/C4_Sequence>

skinparam defaultFontName "Helvetica Neue"
title **GridTokenX: Governance & Admin Ops**\nDAO Management & Emergency Controls

actor "DAO Admin" as Admin
participant "Governance Program" as Gov
participant "Oracle Program" as Oracle
participant "Registry Program" as Registry
entity "PoA Config PDA" as PoA
entity "Oracle Data PDA" as OData

== Platform Configuration ==
Admin -> Gov: **update_governance_config(valid_period, limits)**
activate Gov
Gov -> PoA: Update Global Settings
Gov --> Admin: Updated
deactivate Gov

== Oracle Management ==
Admin -> Oracle: **update_validation_config(thresholds)**
activate Oracle
Oracle -> OData: Update Min/Max Range
Oracle --> Admin: Success
deactivate Oracle

Admin -> Oracle: **add_backup_oracle(NewPubkey)**
activate Oracle
Oracle -> OData: Add to Whitelist
Oracle --> Admin: Added
deactivate Oracle

== Emergency Protocols ==
note right of Admin: Severe Incident Detected (e.g. Exploit)

Admin -> Gov: **emergency_pause()**
activate Gov
Gov -> PoA: Set Paused = True
Gov --> Admin: **PLATFORM FROZEN**
deactivate Gov

note right of Gov: All Trading & Minting Halted

Admin -> Gov: **emergency_unpause()**
activate Gov
Gov -> PoA: Set Paused = False
Gov --> Admin: Operations Resumed
deactivate Gov

== Authority Rotation ==
Admin -> Gov: **propose_authority_change(NewAdmin)**
activate Gov
Gov -> PoA: Store Proposal
deactivate Gov

actor "New Admin" as NewAdmin
NewAdmin -> Gov: **approve_authority_change()**
activate Gov
Gov -> PoA: Update Authority Key
Gov --> NewAdmin: Authority Transferred
deactivate Gov

@enduml
